<div class="card">
    <div class="p-4">
        <h2 class="text-2xl font-bold mb-4">{{ patientId != 'null' ? 'Edit' : 'Create' }} Patient</h2>
        <form [formGroup]="patientForm" class="p-fluid">
            <div class="grid">
                <div class="col-12 md:col-6 lg:col-4">
                    <div class="field">
                        <label class="font-semibold block mb-2">First Name</label>
                        <input pInputText type="text" formControlName="firstname" />
                    </div>
                </div>
                <div class="col-12 md:col-6 lg:col-4">
                    <div class="field">
                        <label class="font-semibold block mb-2">Last Name</label>
                        <input pInputText type="text" formControlName="lastname" />
                    </div>
                </div>
                <div class="col-12 md:col-6 lg:col-4">
                    <div class="field">
                        <label class="font-semibold block mb-2">Email</label>
                        <input pInputText type="email" formControlName="email" />
                    </div>
                </div>
                <div class="col-12 md:col-6 lg:col-4">
                    <div class="field">
                        <label class="font-semibold block mb-2">Password</label>
                        <input pInputText type="password" formControlName="password" />
                    </div>
                </div>
                <div class="col-12 md:col-6 lg:col-4">
                    <div class="field">
                        <label class="font-semibold block mb-2">Gender</label>
                        <p-dropdown 
                            [options]="genderOptions" 
                            formControlName="sexe"
                            placeholder="Select gender"
                            [style]="{'width':'100%'}"
                        ></p-dropdown>
                    </div>
                </div>
                <div class="col-12 md:col-6 lg:col-4">
                    <div class="field">
                        <label class="font-semibold block mb-2">Contact</label>
                        <input pInputText type="text" formControlName="contact" />
                    </div>
                </div>
                <div class="col-12 md:col-6 lg:col-4">
                    <div class="field">
                        <label class="font-semibold block mb-2">Date of Birth</label>
                        <p-calendar 
                            formControlName="dateNaissance" 
                            [showIcon]="true"
                            dateFormat="yy-mm-dd"
                            [style]="{'width':'100%'}"
                        ></p-calendar>
                    </div>
                </div>
                <div class="col-12 md:col-6 lg:col-4">
                    <div class="field">
                        <label class="font-semibold block mb-2">Address</label>
                        <input pInputText type="text" formControlName="adresse" />
                    </div>
                </div>
                <div class="col-12 md:col-6 lg:col-4">
                    <div class="field">
                        <label class="font-semibold block mb-2">City</label>
                        <input pInputText type="text" formControlName="ville" />
                    </div>
                </div>
                <div class="col-12 md:col-6 lg:col-4">
                    <div class="field">
                        <label class="font-semibold block mb-2">Postal Code</label>
                        <input pInputText type="text" formControlName="codePostal" />
                    </div>
                </div>
            </div>

            <div class="flex justify-content-end gap-2 mt-4">
                <p-button label="Cancel" severity="secondary" routerLink="/backoffice/patient"></p-button>
                <p-button 
                    [label]="patientId != 'null' ? 'Update' : 'Save'" 
                    (onClick)="onSubmit()"
                    [disabled]="patientForm.invalid"
                ></p-button>
            </div>
        </form>
    </div>
    
    <p-confirmDialog [style]="{width: '450px'}"></p-confirmDialog>
    <p-toast></p-toast>
</div>